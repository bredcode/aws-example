## 알고가면 좋은 것

- WaitTimeSeconds

  - 옵션: `WaitTimeSeconds=2`
  - 동작 시점: **수신 요청할 때**
  - 의미: Long‑polling 시간. SQS는 최대 2초 동안 새 메시지가 도착하기를 기다렸다가,  
    도착하면 즉시 응답합니다.  
    (1초 만에 메시지가 생기면 1초 만에 리턴)

- VisibilityTimeout

  - 옵션: `VisibilityTimeout=5`
  - 동작 시점: **메시지를 수신한 직후부터**
  - 의미: “보이지 않는” 보호 시간. 이 5초 동안 다른 컨슈머에게 같은 메시지가 다시 전달되지 않습니다.

### 5 초 안에 삭제‑ACK 못 하면?

1.  **5 초 안에 `DeleteMessage` 호출**  
    → 메시지는 영구 삭제. 중복 처리 없음.
2.  **5 초를 넘기면**
    - **메시지가 다시 “visible”** 상태로 돌아가며  
      다음 `ReceiveMessage` 호출(같은 프로세스든 다른 컨슈머든) 때 **재전달**될 수 있습니다.
    - 따라서 **중복 소비**(at‑least‑once 전달) 가능성이 생깁니다.
